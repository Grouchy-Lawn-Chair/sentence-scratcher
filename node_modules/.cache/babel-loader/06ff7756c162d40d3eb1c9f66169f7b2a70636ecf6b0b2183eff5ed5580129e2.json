{"ast":null,"code":"// src/TiptapEditor.jsx\nimport\"use-sync-external-store/shim\";import React,{useEffect,useState,useCallback}from\"react\";import{useEditor,EditorContent}from\"@tiptap/react\";import StarterKit from\"@tiptap/starter-kit\";import Placeholder from\"@tiptap/extension-placeholder\";import{Extension}from\"@tiptap/core\";import{Plugin,PluginKey}from\"prosemirror-state\";import{Decoration,DecorationSet}from\"prosemirror-view\";import{analyzeSentence,countWords,countSentences,calculateFleschKincaidGrade,calculateFleschReadingEase}from\"./readabilityUtils\";import{SIMPLE_WORD_MAP}from\"./simpleWordMap\";// switches and thresholds\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ENABLE_BLUE=false;const LONG_SENTENCE_WORDS=15;const HEMI_HARD_WORDS=20;const HEMI_VERY_HARD_WORDS=25;const DELTA_HARD=1;const DELTA_VERY_HARD=3;const MIN_YELLOW_WORDS_FOR_GRADE=14;const MIN_RED_WORDS_FOR_GRADE=18;const HARD_SYLLABLES_BY_TARGET={6:3,8:4,10:5};const DEBOUNCE_MS=250;const classify=(words,grade,target)=>{const delta=grade-target;if(words>=HEMI_VERY_HARD_WORDS)return\"red\";if(words>=HEMI_HARD_WORDS)return\"yellow\";if(delta>DELTA_VERY_HARD&&words>=MIN_RED_WORDS_FOR_GRADE)return\"red\";if(delta>DELTA_HARD&&words>=MIN_YELLOW_WORDS_FOR_GRADE)return\"yellow\";if(ENABLE_BLUE&&words>=LONG_SENTENCE_WORDS)return\"blue\";return null;};const smartCase=(orig,simple)=>{if(!simple)return\"\";if(orig===orig.toUpperCase())return simple.toUpperCase();if(orig[0]===orig[0].toUpperCase())return simple[0].toUpperCase()+simple.slice(1);return simple;};const syllables=word=>{const w=word.toLowerCase().replace(/[^a-z']/g,\"\");if(!w)return 0;const exceptions={queue:2,people:2,business:2,every:2,family:3,chocolate:3};if(w in exceptions)return exceptions[w];let count=0;const vowels=\"aeiouy\";for(let i=0;i<w.length;i++){if(vowels.includes(w[i])&&!vowels.includes(w[i-1]||\"\"))count++;}if(w.endsWith(\"e\"))count--;return Math.max(1,count);};const isAllCaps=w=>w.length>1&&w===w.toUpperCase();const isUrlLike=w=>/^https?:\\/\\//i.test(w)||/^www\\./i.test(w);const isNumberLike=w=>/^\\d/.test(w);const isLikelyProperNoun=w=>/^[A-Z][a-z]/.test(w)&&!isAllCaps(w);// tooltip text\nconst tooltipMessage=(color,_ref)=>{let{byLengthHard,byLengthYellow,byDeltaHard,byDeltaYellow}=_ref;if(color===\"red\"){if(byLengthHard&&byDeltaHard)return\"Very hard, long and above target, split and simplify.\";if(byLengthHard)return\"Very hard, 25 or more words, split this sentence.\";if(byDeltaHard)return\"Very hard, about 3 grades over target, split and simplify.\";}if(color===\"yellow\"){if(byLengthYellow&&byDeltaYellow)return\"A bit long and above your target, consider a small rewrite.\";if(byLengthYellow)return\"A bit long, 20 or more words, consider a split.\";if(byDeltaYellow)return\"Slightly above your target, try simpler words or a split.\";}if(color===\"blue\")return\"Long sentence, consider a split.\";return\"\";};// decoration plugin\nconst decoKey=new PluginKey(\"sentenceHighlights\");const DynamicHighlights=Extension.create({name:\"dynamicHighlights\",addOptions(){return{getTargetGrade:()=>6,getShowHardWords:()=>true,getEasySet:()=>new Set(),getExempt:()=>({single:new Set(),phrases:[]})};},addProseMirrorPlugins(){const{getTargetGrade,getShowHardWords,getEasySet,getExempt}=this.options;const buildDecorations=doc=>{const targetGrade=getTargetGrade();const showHardWords=getShowHardWords();const easySet=getEasySet();const exempt=getExempt();const decos=[];doc.descendants((node,pos)=>{const isBlock=[\"paragraph\",\"list_item\",\"heading\"].includes(node.type.name);if(!isBlock)return;const text=node.textContent;if(!text)return;const blockFrom=pos+1;const sLowerFull=text.toLowerCase();// build phrase skip ranges for this block\nconst phraseRanges=[];for(const phrase of exempt.phrases){const p=phrase.toLowerCase();if(!p)continue;let idx=0;while(true){idx=sLowerFull.indexOf(p,idx);if(idx===-1)break;// check word boundaries so we do not match inside bigger words\nconst before=idx===0?\"\":sLowerFull[idx-1];const after=sLowerFull[idx+p.length]||\"\";const wb=!/\\w/.test(before)&&!/\\w/.test(after);if(wb)phraseRanges.push([idx,idx+p.length]);idx=idx+p.length;}}const parts=text.match(/[^.!?…]+[.!?…]*/g)||[];let searchFrom=0;for(const raw of parts){const s=raw.trim();if(!s){searchFrom+=raw.length;continue;}const{wordCount,grade}=analyzeSentence(s);const color=classify(wordCount,grade,targetGrade);const startInNode=text.indexOf(s,searchFrom);if(startInNode===-1){searchFrom+=raw.length;continue;}const from=blockFrom+startInNode;const to=from+s.length;// sentence highlight\nconst delta=grade-targetGrade;const byLengthHard=wordCount>=HEMI_VERY_HARD_WORDS;const byLengthYellow=wordCount>=HEMI_HARD_WORDS;const byDeltaHard=delta>DELTA_VERY_HARD&&wordCount>=MIN_RED_WORDS_FOR_GRADE;const byDeltaYellow=delta>DELTA_HARD&&wordCount>=MIN_YELLOW_WORDS_FOR_GRADE;if(color){const tip=tooltipMessage(color,{byLengthHard,byLengthYellow,byDeltaHard,byDeltaYellow});decos.push(Decoration.inline(from,to,{nodeName:\"mark\",\"data-highlight-color\":color,\"data-tip\":tip||\"\"}));}// hard word underlines\nif(showHardWords){var _HARD_SYLLABLES_BY_TA;const thresh=(_HARD_SYLLABLES_BY_TA=HARD_SYLLABLES_BY_TARGET[targetGrade])!==null&&_HARD_SYLLABLES_BY_TA!==void 0?_HARD_SYLLABLES_BY_TA:3;const sLower=s.toLowerCase();// compute skip spans that overlap this sentence only\nconst sentPhraseRanges=phraseRanges.filter(_ref2=>{let[a,b]=_ref2;return a>=startInNode&&b<=startInNode+s.length;}).map(_ref3=>{let[a,b]=_ref3;return[a-startInNode,b-startInNode];});// make relative to the sentence\nconst inSkip=(start,end)=>{for(const[a,b]of sentPhraseRanges){if(start<b&&end>a)return true;// overlap\n}return false;};const wordRegex=/\\b[\\w'-]+\\b/g;let m,tokenIndex=0;while((m=wordRegex.exec(s))!==null){const wOrig=m[0];const w=wOrig.replace(/^'+|'+$/g,\"\");const lower=w.toLowerCase();// absolute positions\nconst wStartRel=m.index;const wEndRel=m.index+wOrig.length;// skip rules\nif(!w||isUrlLike(w)||isNumberLike(w)){tokenIndex++;continue;}if(tokenIndex>0&&isLikelyProperNoun(wOrig)){tokenIndex++;continue;}if(isAllCaps(wOrig)){tokenIndex++;continue;}if(exempt.single.has(lower)){tokenIndex++;continue;}if(inSkip(wStartRel,wEndRel)){tokenIndex++;continue;}const isEasy=easySet.has(lower);const syl=syllables(w);const isHardBySyll=syl>=thresh;if(!isEasy&&isHardBySyll){const simple=SIMPLE_WORD_MAP[lower];const suggestion=simple?smartCase(wOrig,simple):null;const tip=suggestion?`Likely hard word, try “${suggestion}”.`:\"Likely hard word, consider a simpler option.\";const wFrom=from+m.index;const wTo=wFrom+wOrig.length;decos.push(Decoration.inline(wFrom,wTo,{\"data-hard-word\":\"1\",\"data-tip\":tip||\"\",style:\"border-bottom:2px dotted #7c3aed; padding-bottom:1px;\"}));}tokenIndex++;}}searchFrom=startInNode+s.length;}});return DecorationSet.create(doc,decos);};return[new Plugin({key:decoKey,state:{init:(_,state)=>buildDecorations(state.doc),apply:(tr,old,_oldState,newState)=>{if(tr.docChanged||tr.getMeta(decoKey)===\"recompute\"){return buildDecorations(newState.doc);}return old;}},props:{decorations(state){return decoKey.getState(state);}}})];}});export default function TiptapEditor(_ref4){let{targetGrade}=_ref4;const[stats,setStats]=useState({wordCount:0,sentenceCount:0,grade:0,ease:0});const[showHardWords,setShowHardWords]=useState(()=>{try{return localStorage.getItem(\"ssShowHard\")!==\"0\";}catch{return true;}});const[easySet,setEasySet]=useState(()=>new Set(MIN_EASY_WORDS));const[exempt,setExempt]=useState({single:new Set(),phrases:[]});const editor=useEditor({extensions:[StarterKit,Placeholder.configure({placeholder:\"Start typing, or paste your text here\",includeChildren:true}),DynamicHighlights.configure({getTargetGrade:()=>targetGrade,getShowHardWords:()=>showHardWords,getEasySet:()=>easySet,getExempt:()=>exempt})],content:\"\",editorProps:{attributes:{class:\"editor-content prose prose-sm sm:prose lg:prose-lg xl:prose-xl max-w-none p-4 border rounded bg-white focus:outline-none\"}}});// load Dale Chall list\nuseEffect(()=>{fetch(process.env.PUBLIC_URL+\"/daleChallEasyWords.json\").then(r=>r.ok?r.json():[]).then(list=>{if(Array.isArray(list)&&list.length){setEasySet(new Set(list.map(w=>w.toLowerCase())));}}).catch(()=>{});},[]);// load exempt list\nuseEffect(()=>{fetch(process.env.PUBLIC_URL+\"/exemptProperNouns.json\").then(r=>r.ok?r.json():null).then(data=>{if(!data)return;const single=new Set((data.singleWords||[]).map(s=>s.toLowerCase()));const phrases=(data.phrases||[]).map(p=>p.toLowerCase());setExempt({single,phrases});// force a rebuild\nif(editor){const tr=editor.state.tr.setMeta(decoKey,\"recompute\");editor.view.dispatch(tr);}}).catch(()=>{});},[editor]);// stats, debounce on updates\nconst debouncedStats=useCallback(()=>{if(!editor)return;const fullText=editor.getText();setStats({wordCount:countWords(fullText),sentenceCount:countSentences(fullText),grade:calculateFleschKincaidGrade(fullText),ease:calculateFleschReadingEase(fullText)});},[editor]);useEffect(()=>{if(!editor)return;const handler=()=>{window.clearTimeout(handler.tid);handler.tid=window.setTimeout(debouncedStats,DEBOUNCE_MS);};editor.on(\"update\",handler);handler();return()=>editor.off(\"update\",handler);},[editor,debouncedStats]);// rebuild decorations when controls change\nuseEffect(()=>{if(!editor)return;const tr=editor.state.tr.setMeta(decoKey,\"recompute\");editor.view.dispatch(tr);},[editor,targetGrade,showHardWords,easySet,exempt]);useEffect(()=>{try{localStorage.setItem(\"ssShowHard\",showHardWords?\"1\":\"0\");}catch{}},[showHardWords]);if(!editor)return null;const hasText=stats.wordCount>0&&stats.sentenceCount>0;const gradeDisplay=hasText?stats.grade.toFixed(1):\"—\";const easeDisplay=hasText?stats.ease.toFixed(1):\"—\";return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2 mb-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>editor.chain().focus().toggleBold().run(),className:\"px-2 py-1 border rounded\",children:\"Bold\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>editor.chain().focus().toggleItalic().run(),className:\"px-2 py-1 border rounded\",children:\"Italic\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>editor.chain().focus().toggleHeading({level:1}).run(),className:\"px-2 py-1 border rounded\",children:\"H1\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>editor.chain().focus().toggleBulletList().run(),className:\"px-2 py-1 border rounded\",children:\"\\u2022 List\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>editor.chain().focus().toggleOrderedList().run(),className:\"px-2 py-1 border rounded\",children:\"1. List\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-4 text-xs mb-2 items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"legend-red w-3 h-3 border inline-block\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Very hard, 25+ words, or grade +3 with 18+ words\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"legend-yellow w-3 h-3 border inline-block\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Slightly over, 20+ words, or grade +1 with 14+ words\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-2 ml-auto\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"inline-flex items-center gap-1\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:showHardWords,onChange:e=>setShowHardWords(e.target.checked)}),/*#__PURE__*/_jsx(\"span\",{className:\"legend-underline-purple\",children:\"Aa\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Likely hard word\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-100 px-2 py-1 rounded\",children:[\"Words, \",stats.wordCount]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-100 px-2 py-1 rounded\",children:[\"Sentences, \",stats.sentenceCount]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-100 px-2 py-1 rounded\",children:[\"Grade, \",gradeDisplay]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-100 px-2 py-1 rounded\",children:[\"Ease, \",easeDisplay]})]}),/*#__PURE__*/_jsx(EditorContent,{editor:editor})]});}const MIN_EASY_WORDS=[\"a\",\"about\",\"after\",\"all\",\"also\",\"an\",\"and\",\"any\",\"are\",\"as\",\"at\",\"back\",\"be\",\"because\",\"been\",\"before\",\"but\",\"by\",\"can\",\"come\",\"could\",\"day\",\"did\",\"do\",\"down\",\"each\",\"even\",\"every\",\"few\",\"find\",\"first\",\"for\",\"from\",\"get\",\"go\",\"good\",\"had\",\"has\",\"have\",\"he\",\"her\",\"here\",\"him\",\"his\",\"how\",\"i\",\"if\",\"in\",\"into\",\"is\",\"it\",\"just\",\"know\",\"like\",\"little\",\"long\",\"look\",\"made\",\"make\",\"man\",\"many\",\"may\",\"me\",\"men\",\"more\",\"most\",\"much\",\"must\",\"my\",\"new\",\"no\",\"not\",\"now\",\"of\",\"off\",\"old\",\"on\",\"one\",\"only\",\"or\",\"other\",\"our\",\"out\",\"over\",\"people\",\"right\",\"said\",\"see\",\"she\",\"so\",\"some\",\"than\",\"that\",\"the\",\"their\",\"them\",\"then\",\"there\",\"these\",\"they\",\"this\",\"time\",\"to\",\"two\",\"up\",\"us\",\"use\",\"very\",\"want\",\"was\",\"way\",\"we\",\"well\",\"went\",\"were\",\"what\",\"when\",\"where\",\"which\",\"who\",\"will\",\"with\",\"work\",\"would\",\"year\",\"years\",\"you\",\"your\"];","map":{"version":3,"names":["React","useEffect","useState","useCallback","useEditor","EditorContent","StarterKit","Placeholder","Extension","Plugin","PluginKey","Decoration","DecorationSet","analyzeSentence","countWords","countSentences","calculateFleschKincaidGrade","calculateFleschReadingEase","SIMPLE_WORD_MAP","jsx","_jsx","jsxs","_jsxs","ENABLE_BLUE","LONG_SENTENCE_WORDS","HEMI_HARD_WORDS","HEMI_VERY_HARD_WORDS","DELTA_HARD","DELTA_VERY_HARD","MIN_YELLOW_WORDS_FOR_GRADE","MIN_RED_WORDS_FOR_GRADE","HARD_SYLLABLES_BY_TARGET","DEBOUNCE_MS","classify","words","grade","target","delta","smartCase","orig","simple","toUpperCase","slice","syllables","word","w","toLowerCase","replace","exceptions","queue","people","business","every","family","chocolate","count","vowels","i","length","includes","endsWith","Math","max","isAllCaps","isUrlLike","test","isNumberLike","isLikelyProperNoun","tooltipMessage","color","_ref","byLengthHard","byLengthYellow","byDeltaHard","byDeltaYellow","decoKey","DynamicHighlights","create","name","addOptions","getTargetGrade","getShowHardWords","getEasySet","Set","getExempt","single","phrases","addProseMirrorPlugins","options","buildDecorations","doc","targetGrade","showHardWords","easySet","exempt","decos","descendants","node","pos","isBlock","type","text","textContent","blockFrom","sLowerFull","phraseRanges","phrase","p","idx","indexOf","before","after","wb","push","parts","match","searchFrom","raw","s","trim","wordCount","startInNode","from","to","tip","inline","nodeName","_HARD_SYLLABLES_BY_TA","thresh","sLower","sentPhraseRanges","filter","_ref2","a","b","map","_ref3","inSkip","start","end","wordRegex","m","tokenIndex","exec","wOrig","lower","wStartRel","index","wEndRel","has","isEasy","syl","isHardBySyll","suggestion","wFrom","wTo","style","key","state","init","_","apply","tr","old","_oldState","newState","docChanged","getMeta","props","decorations","getState","TiptapEditor","_ref4","stats","setStats","sentenceCount","ease","setShowHardWords","localStorage","getItem","setEasySet","MIN_EASY_WORDS","setExempt","editor","extensions","configure","placeholder","includeChildren","content","editorProps","attributes","class","fetch","process","env","PUBLIC_URL","then","r","ok","json","list","Array","isArray","catch","data","singleWords","setMeta","view","dispatch","debouncedStats","fullText","getText","handler","window","clearTimeout","tid","setTimeout","on","off","setItem","hasText","gradeDisplay","toFixed","easeDisplay","className","children","onClick","chain","focus","toggleBold","run","toggleItalic","toggleHeading","level","toggleBulletList","toggleOrderedList","checked","onChange","e"],"sources":["C:/Users/Mitchell/Downloads/Hemming Way App Clone/Hemming Way App Clone/src/TiptapEditor.jsx"],"sourcesContent":["// src/TiptapEditor.jsx\r\nimport \"use-sync-external-store/shim\";\r\nimport React, { useEffect, useState, useCallback } from \"react\";\r\nimport { useEditor, EditorContent } from \"@tiptap/react\";\r\nimport StarterKit from \"@tiptap/starter-kit\";\r\nimport Placeholder from \"@tiptap/extension-placeholder\";\r\nimport { Extension } from \"@tiptap/core\";\r\nimport { Plugin, PluginKey } from \"prosemirror-state\";\r\nimport { Decoration, DecorationSet } from \"prosemirror-view\";\r\n\r\nimport {\r\n  analyzeSentence,\r\n  countWords,\r\n  countSentences,\r\n  calculateFleschKincaidGrade,\r\n  calculateFleschReadingEase,\r\n} from \"./readabilityUtils\";\r\nimport { SIMPLE_WORD_MAP } from \"./simpleWordMap\";\r\n\r\n// switches and thresholds\r\nconst ENABLE_BLUE = false;\r\nconst LONG_SENTENCE_WORDS = 15;\r\nconst HEMI_HARD_WORDS = 20;\r\nconst HEMI_VERY_HARD_WORDS = 25;\r\nconst DELTA_HARD = 1;\r\nconst DELTA_VERY_HARD = 3;\r\nconst MIN_YELLOW_WORDS_FOR_GRADE = 14;\r\nconst MIN_RED_WORDS_FOR_GRADE = 18;\r\nconst HARD_SYLLABLES_BY_TARGET = { 6: 3, 8: 4, 10: 5 };\r\nconst DEBOUNCE_MS = 250;\r\n\r\nconst classify = (words, grade, target) => {\r\n  const delta = grade - target;\r\n  if (words >= HEMI_VERY_HARD_WORDS) return \"red\";\r\n  if (words >= HEMI_HARD_WORDS) return \"yellow\";\r\n  if (delta > DELTA_VERY_HARD && words >= MIN_RED_WORDS_FOR_GRADE) return \"red\";\r\n  if (delta > DELTA_HARD && words >= MIN_YELLOW_WORDS_FOR_GRADE) return \"yellow\";\r\n  if (ENABLE_BLUE && words >= LONG_SENTENCE_WORDS) return \"blue\";\r\n  return null;\r\n};\r\n\r\nconst smartCase = (orig, simple) => {\r\n  if (!simple) return \"\";\r\n  if (orig === orig.toUpperCase()) return simple.toUpperCase();\r\n  if (orig[0] === orig[0].toUpperCase()) return simple[0].toUpperCase() + simple.slice(1);\r\n  return simple;\r\n};\r\n\r\nconst syllables = (word) => {\r\n  const w = word.toLowerCase().replace(/[^a-z']/g, \"\");\r\n  if (!w) return 0;\r\n  const exceptions = { queue: 2, people: 2, business: 2, every: 2, family: 3, chocolate: 3 };\r\n  if (w in exceptions) return exceptions[w];\r\n  let count = 0;\r\n  const vowels = \"aeiouy\";\r\n  for (let i = 0; i < w.length; i++) {\r\n    if (vowels.includes(w[i]) && !vowels.includes(w[i - 1] || \"\")) count++;\r\n  }\r\n  if (w.endsWith(\"e\")) count--;\r\n  return Math.max(1, count);\r\n};\r\n\r\nconst isAllCaps = (w) => w.length > 1 && w === w.toUpperCase();\r\nconst isUrlLike = (w) => /^https?:\\/\\//i.test(w) || /^www\\./i.test(w);\r\nconst isNumberLike = (w) => /^\\d/.test(w);\r\nconst isLikelyProperNoun = (w) => /^[A-Z][a-z]/.test(w) && !isAllCaps(w);\r\n\r\n// tooltip text\r\nconst tooltipMessage = (color, { byLengthHard, byLengthYellow, byDeltaHard, byDeltaYellow }) => {\r\n  if (color === \"red\") {\r\n    if (byLengthHard && byDeltaHard) return \"Very hard, long and above target, split and simplify.\";\r\n    if (byLengthHard) return \"Very hard, 25 or more words, split this sentence.\";\r\n    if (byDeltaHard) return \"Very hard, about 3 grades over target, split and simplify.\";\r\n  }\r\n  if (color === \"yellow\") {\r\n    if (byLengthYellow && byDeltaYellow) return \"A bit long and above your target, consider a small rewrite.\";\r\n    if (byLengthYellow) return \"A bit long, 20 or more words, consider a split.\";\r\n    if (byDeltaYellow) return \"Slightly above your target, try simpler words or a split.\";\r\n  }\r\n  if (color === \"blue\") return \"Long sentence, consider a split.\";\r\n  return \"\";\r\n};\r\n\r\n// decoration plugin\r\nconst decoKey = new PluginKey(\"sentenceHighlights\");\r\n\r\nconst DynamicHighlights = Extension.create({\r\n  name: \"dynamicHighlights\",\r\n  addOptions() {\r\n    return {\r\n      getTargetGrade: () => 6,\r\n      getShowHardWords: () => true,\r\n      getEasySet: () => new Set(),\r\n      getExempt: () => ({ single: new Set(), phrases: [] })\r\n    };\r\n  },\r\n  addProseMirrorPlugins() {\r\n    const { getTargetGrade, getShowHardWords, getEasySet, getExempt } = this.options;\r\n\r\n    const buildDecorations = (doc) => {\r\n      const targetGrade = getTargetGrade();\r\n      const showHardWords = getShowHardWords();\r\n      const easySet = getEasySet();\r\n      const exempt = getExempt();\r\n\r\n      const decos = [];\r\n\r\n      doc.descendants((node, pos) => {\r\n        const isBlock = [\"paragraph\", \"list_item\", \"heading\"].includes(node.type.name);\r\n        if (!isBlock) return;\r\n\r\n        const text = node.textContent;\r\n        if (!text) return;\r\n\r\n        const blockFrom = pos + 1;\r\n        const sLowerFull = text.toLowerCase();\r\n\r\n        // build phrase skip ranges for this block\r\n        const phraseRanges = [];\r\n        for (const phrase of exempt.phrases) {\r\n          const p = phrase.toLowerCase();\r\n          if (!p) continue;\r\n          let idx = 0;\r\n          while (true) {\r\n            idx = sLowerFull.indexOf(p, idx);\r\n            if (idx === -1) break;\r\n\r\n            // check word boundaries so we do not match inside bigger words\r\n            const before = idx === 0 ? \"\" : sLowerFull[idx - 1];\r\n            const after = sLowerFull[idx + p.length] || \"\";\r\n            const wb = !/\\w/.test(before) && !/\\w/.test(after);\r\n            if (wb) phraseRanges.push([idx, idx + p.length]);\r\n\r\n            idx = idx + p.length;\r\n          }\r\n        }\r\n\r\n        const parts = text.match(/[^.!?…]+[.!?…]*/g) || [];\r\n        let searchFrom = 0;\r\n\r\n        for (const raw of parts) {\r\n          const s = raw.trim();\r\n          if (!s) { searchFrom += raw.length; continue; }\r\n\r\n          const { wordCount, grade } = analyzeSentence(s);\r\n          const color = classify(wordCount, grade, targetGrade);\r\n\r\n          const startInNode = text.indexOf(s, searchFrom);\r\n          if (startInNode === -1) { searchFrom += raw.length; continue; }\r\n\r\n          const from = blockFrom + startInNode;\r\n          const to = from + s.length;\r\n\r\n          // sentence highlight\r\n          const delta = grade - targetGrade;\r\n          const byLengthHard = wordCount >= HEMI_VERY_HARD_WORDS;\r\n          const byLengthYellow = wordCount >= HEMI_HARD_WORDS;\r\n          const byDeltaHard = delta > DELTA_VERY_HARD && wordCount >= MIN_RED_WORDS_FOR_GRADE;\r\n          const byDeltaYellow = delta > DELTA_HARD && wordCount >= MIN_YELLOW_WORDS_FOR_GRADE;\r\n\r\n          if (color) {\r\n            const tip = tooltipMessage(color, { byLengthHard, byLengthYellow, byDeltaHard, byDeltaYellow });\r\n            decos.push(\r\n              Decoration.inline(from, to, {\r\n                nodeName: \"mark\",\r\n                \"data-highlight-color\": color,\r\n                \"data-tip\": tip || \"\",\r\n              })\r\n            );\r\n          }\r\n\r\n          // hard word underlines\r\n          if (showHardWords) {\r\n            const thresh = HARD_SYLLABLES_BY_TARGET[targetGrade] ?? 3;\r\n            const sLower = s.toLowerCase();\r\n\r\n            // compute skip spans that overlap this sentence only\r\n            const sentPhraseRanges = phraseRanges\r\n              .filter(([a, b]) => a >= startInNode && b <= startInNode + s.length)\r\n              .map(([a, b]) => [a - startInNode, b - startInNode]); // make relative to the sentence\r\n\r\n            const inSkip = (start, end) => {\r\n              for (const [a, b] of sentPhraseRanges) {\r\n                if (start < b && end > a) return true; // overlap\r\n              }\r\n              return false;\r\n            };\r\n\r\n            const wordRegex = /\\b[\\w'-]+\\b/g;\r\n            let m, tokenIndex = 0;\r\n            while ((m = wordRegex.exec(s)) !== null) {\r\n              const wOrig = m[0];\r\n              const w = wOrig.replace(/^'+|'+$/g, \"\");\r\n              const lower = w.toLowerCase();\r\n\r\n              // absolute positions\r\n              const wStartRel = m.index;\r\n              const wEndRel = m.index + wOrig.length;\r\n\r\n              // skip rules\r\n              if (!w || isUrlLike(w) || isNumberLike(w)) { tokenIndex++; continue; }\r\n              if (tokenIndex > 0 && isLikelyProperNoun(wOrig)) { tokenIndex++; continue; }\r\n              if (isAllCaps(wOrig)) { tokenIndex++; continue; }\r\n              if (exempt.single.has(lower)) { tokenIndex++; continue; }\r\n              if (inSkip(wStartRel, wEndRel)) { tokenIndex++; continue; }\r\n\r\n              const isEasy = easySet.has(lower);\r\n              const syl = syllables(w);\r\n              const isHardBySyll = syl >= thresh;\r\n\r\n              if (!isEasy && isHardBySyll) {\r\n                const simple = SIMPLE_WORD_MAP[lower];\r\n                const suggestion = simple ? smartCase(wOrig, simple) : null;\r\n                const tip = suggestion\r\n                  ? `Likely hard word, try “${suggestion}”.`\r\n                  : \"Likely hard word, consider a simpler option.\";\r\n                const wFrom = from + m.index;\r\n                const wTo = wFrom + wOrig.length;\r\n                decos.push(\r\n                  Decoration.inline(wFrom, wTo, {\r\n                    \"data-hard-word\": \"1\",\r\n                    \"data-tip\": tip || \"\",\r\n                    style: \"border-bottom:2px dotted #7c3aed; padding-bottom:1px;\"\r\n                  })\r\n                );\r\n              }\r\n\r\n              tokenIndex++;\r\n            }\r\n          }\r\n\r\n          searchFrom = startInNode + s.length;\r\n        }\r\n      });\r\n\r\n      return DecorationSet.create(doc, decos);\r\n    };\r\n\r\n    return [\r\n      new Plugin({\r\n        key: decoKey,\r\n        state: {\r\n          init: (_, state) => buildDecorations(state.doc),\r\n          apply: (tr, old, _oldState, newState) => {\r\n            if (tr.docChanged || tr.getMeta(decoKey) === \"recompute\") {\r\n              return buildDecorations(newState.doc);\r\n            }\r\n            return old;\r\n          },\r\n        },\r\n        props: {\r\n          decorations(state) {\r\n            return decoKey.getState(state);\r\n          },\r\n        },\r\n      }),\r\n    ];\r\n  },\r\n});\r\n\r\nexport default function TiptapEditor({ targetGrade }) {\r\n  const [stats, setStats] = useState({ wordCount: 0, sentenceCount: 0, grade: 0, ease: 0 });\r\n  const [showHardWords, setShowHardWords] = useState(() => {\r\n    try { return localStorage.getItem(\"ssShowHard\") !== \"0\"; } catch { return true; }\r\n  });\r\n  const [easySet, setEasySet] = useState(() => new Set(MIN_EASY_WORDS));\r\n  const [exempt, setExempt] = useState({ single: new Set(), phrases: [] });\r\n\r\n  const editor = useEditor({\r\n    extensions: [\r\n      StarterKit,\r\n      Placeholder.configure({\r\n        placeholder: \"Start typing, or paste your text here\",\r\n        includeChildren: true,\r\n      }),\r\n      DynamicHighlights.configure({\r\n        getTargetGrade: () => targetGrade,\r\n        getShowHardWords: () => showHardWords,\r\n        getEasySet: () => easySet,\r\n        getExempt: () => exempt,\r\n      }),\r\n    ],\r\n    content: \"\",\r\n    editorProps: {\r\n      attributes: {\r\n        class:\r\n          \"editor-content prose prose-sm sm:prose lg:prose-lg xl:prose-xl max-w-none p-4 border rounded bg-white focus:outline-none\",\r\n      },\r\n    },\r\n  });\r\n\r\n  // load Dale Chall list\r\n  useEffect(() => {\r\n    fetch(process.env.PUBLIC_URL + \"/daleChallEasyWords.json\")\r\n      .then(r => r.ok ? r.json() : [])\r\n      .then(list => {\r\n        if (Array.isArray(list) && list.length) {\r\n          setEasySet(new Set(list.map(w => w.toLowerCase())));\r\n        }\r\n      })\r\n      .catch(() => {});\r\n  }, []);\r\n\r\n  // load exempt list\r\n  useEffect(() => {\r\n    fetch(process.env.PUBLIC_URL + \"/exemptProperNouns.json\")\r\n      .then(r => r.ok ? r.json() : null)\r\n      .then(data => {\r\n        if (!data) return;\r\n        const single = new Set((data.singleWords || []).map(s => s.toLowerCase()));\r\n        const phrases = (data.phrases || []).map(p => p.toLowerCase());\r\n        setExempt({ single, phrases });\r\n        // force a rebuild\r\n        if (editor) {\r\n          const tr = editor.state.tr.setMeta(decoKey, \"recompute\");\r\n          editor.view.dispatch(tr);\r\n        }\r\n      })\r\n      .catch(() => {});\r\n  }, [editor]);\r\n\r\n  // stats, debounce on updates\r\n  const debouncedStats = useCallback(() => {\r\n    if (!editor) return;\r\n    const fullText = editor.getText();\r\n    setStats({\r\n      wordCount: countWords(fullText),\r\n      sentenceCount: countSentences(fullText),\r\n      grade: calculateFleschKincaidGrade(fullText),\r\n      ease: calculateFleschReadingEase(fullText),\r\n    });\r\n  }, [editor]);\r\n\r\n  useEffect(() => {\r\n    if (!editor) return;\r\n    const handler = () => {\r\n      window.clearTimeout(handler.tid);\r\n      handler.tid = window.setTimeout(debouncedStats, DEBOUNCE_MS);\r\n    };\r\n    editor.on(\"update\", handler);\r\n    handler();\r\n    return () => editor.off(\"update\", handler);\r\n  }, [editor, debouncedStats]);\r\n\r\n  // rebuild decorations when controls change\r\n  useEffect(() => {\r\n    if (!editor) return;\r\n    const tr = editor.state.tr.setMeta(decoKey, \"recompute\");\r\n    editor.view.dispatch(tr);\r\n  }, [editor, targetGrade, showHardWords, easySet, exempt]);\r\n\r\n  useEffect(() => {\r\n    try { localStorage.setItem(\"ssShowHard\", showHardWords ? \"1\" : \"0\"); } catch {}\r\n  }, [showHardWords]);\r\n\r\n  if (!editor) return null;\r\n\r\n  const hasText = stats.wordCount > 0 && stats.sentenceCount > 0;\r\n  const gradeDisplay = hasText ? stats.grade.toFixed(1) : \"—\";\r\n  const easeDisplay  = hasText ? stats.ease.toFixed(1)  : \"—\";\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {/* toolbar */}\r\n      <div className=\"flex flex-wrap gap-2 mb-2\">\r\n        <button onClick={() => editor.chain().focus().toggleBold().run()} className=\"px-2 py-1 border rounded\">Bold</button>\r\n        <button onClick={() => editor.chain().focus().toggleItalic().run()} className=\"px-2 py-1 border rounded\">Italic</button>\r\n        <button onClick={() => editor.chain().focus().toggleHeading({ level: 1 }).run()} className=\"px-2 py-1 border rounded\">H1</button>\r\n        <button onClick={() => editor.chain().focus().toggleBulletList().run()} className=\"px-2 py-1 border rounded\">• List</button>\r\n        <button onClick={() => editor.chain().focus().toggleOrderedList().run()} className=\"px-2 py-1 border rounded\">1. List</button>\r\n      </div>\r\n\r\n      {/* legend */}\r\n      <div className=\"flex flex-wrap gap-4 text-xs mb-2 items-center\">\r\n        <div className=\"flex items-center gap-1\">\r\n          <span className=\"legend-red w-3 h-3 border inline-block\"></span>\r\n          <span>Very hard, 25+ words, or grade +3 with 18+ words</span>\r\n        </div>\r\n        <div className=\"flex items-center gap-1\">\r\n          <span className=\"legend-yellow w-3 h-3 border inline-block\"></span>\r\n          <span>Slightly over, 20+ words, or grade +1 with 14+ words</span>\r\n        </div>\r\n        <div className=\"flex items-center gap-2 ml-auto\">\r\n          <label className=\"inline-flex items-center gap-1\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={showHardWords}\r\n              onChange={(e) => setShowHardWords(e.target.checked)}\r\n            />\r\n            <span className=\"legend-underline-purple\">Aa</span>\r\n            <span>Likely hard word</span>\r\n          </label>\r\n        </div>\r\n      </div>\r\n\r\n      {/* stats */}\r\n      <div className=\"flex flex-wrap gap-4 text-sm\">\r\n        <div className=\"bg-gray-100 px-2 py-1 rounded\">Words, {stats.wordCount}</div>\r\n        <div className=\"bg-gray-100 px-2 py-1 rounded\">Sentences, {stats.sentenceCount}</div>\r\n        <div className=\"bg-green-100 px-2 py-1 rounded\">Grade, {gradeDisplay}</div>\r\n        <div className=\"bg-blue-100 px-2 py-1 rounded\">Ease, {easeDisplay}</div>\r\n      </div>\r\n\r\n      <EditorContent editor={editor} />\r\n    </div>\r\n  );\r\n}\r\n\r\nconst MIN_EASY_WORDS = [\r\n  \"a\",\"about\",\"after\",\"all\",\"also\",\"an\",\"and\",\"any\",\"are\",\"as\",\"at\",\"back\",\"be\",\"because\",\"been\",\"before\",\"but\",\"by\",\r\n  \"can\",\"come\",\"could\",\"day\",\"did\",\"do\",\"down\",\"each\",\"even\",\"every\",\"few\",\"find\",\"first\",\"for\",\"from\",\"get\",\"go\",\r\n  \"good\",\"had\",\"has\",\"have\",\"he\",\"her\",\"here\",\"him\",\"his\",\"how\",\"i\",\"if\",\"in\",\"into\",\"is\",\"it\",\"just\",\"know\",\"like\",\r\n  \"little\",\"long\",\"look\",\"made\",\"make\",\"man\",\"many\",\"may\",\"me\",\"men\",\"more\",\"most\",\"much\",\"must\",\"my\",\"new\",\"no\",\r\n  \"not\",\"now\",\"of\",\"off\",\"old\",\"on\",\"one\",\"only\",\"or\",\"other\",\"our\",\"out\",\"over\",\"people\",\"right\",\"said\",\"see\",\"she\",\r\n  \"so\",\"some\",\"than\",\"that\",\"the\",\"their\",\"them\",\"then\",\"there\",\"these\",\"they\",\"this\",\"time\",\"to\",\"two\",\"up\",\"us\",\r\n  \"use\",\"very\",\"want\",\"was\",\"way\",\"we\",\"well\",\"went\",\"were\",\"what\",\"when\",\"where\",\"which\",\"who\",\"will\",\"with\",\"work\",\r\n  \"would\",\"year\",\"years\",\"you\",\"your\"\r\n];\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}