{"ast":null,"code":"import React,{useEffect,useRef,useState}from\"react\";import{EditorContent,useEditor}from\"@tiptap/react\";import StarterKit from\"@tiptap/starter-kit\";import Placeholder from\"@tiptap/extension-placeholder\";import{Plugin,PluginKey}from\"prosemirror-state\";import{Decoration,DecorationSet}from\"prosemirror-view\";/* ---------- syllable + metric helpers ---------- */import{jsx as _jsx}from\"react/jsx-runtime\";function countSyllables(word){const w=(word||\"\").toLowerCase().replace(/[^a-z]/g,\"\");if(!w)return 0;if(w.length<=3)return 1;const cleaned=w.replace(/(?:es|ed|e)$/g,\"\");const m=cleaned.match(/[aeiouy]+/g);return Math.max(1,m?m.length:0);}function splitSentences(text){return(text||\"\").replace(/\\s+/g,\" \").trim().split(/(?<=[\\.!?])\\s+/).filter(Boolean);}/* ---------- decoration plugin ---------- */const decoKey=new PluginKey(\"sentenceHighlighter\");function mapOffsetToPos(doc,offset){let seen=0;let result=0;doc.descendants((node,posHere)=>{if(node.isText){const len=node.text.length;if(offset<=seen+len){result=posHere+(offset-seen);return false;}seen+=len;}else if(node.isBlock){// textBetween inserts a newline between blocks; count it\nif(seen<offset)seen+=1;}return undefined;});return result;}function buildDecorations(doc,cfg){const{targetGrade,showHardWord,exemptWords,easyWords}=cfg;const text=doc.textBetween(0,doc.content.size,\"\\n\",\"\\n\");const decos=[];// ----- Sentence highlights -----\nlet offset=0;const sentences=splitSentences(text);for(const s of sentences){const ws=s.trim().split(/\\s+/).filter(Boolean);if(!ws.length){offset+=s.length+1;continue;}let syll=0;for(const w of ws)syll+=countSyllables(w);const grade=0.39*(ws.length/1)+11.8*(syll/ws.length)-15.59;// Yellow rule (≥20 words OR ≥ target+1)\nif(ws.length>=20||grade>=targetGrade+1){const from=mapOffsetToPos(doc,offset);const to=mapOffsetToPos(doc,offset+s.length);// Red rule (≥25 words OR ≥ target+3)\nif(ws.length>=25||grade>=targetGrade+3){decos.push(Decoration.inline(from,to,{class:\"hl-very\",title:\"This sentence is likely too long or complex. Shortening it will make it easier to read.\"}));}else{decos.push(Decoration.inline(from,to,{class:\"hl-slight\",title:\"This sentence may be a bit hard to follow. Try shortening it or using simpler words.\"}));}}offset+=s.length+1;}// ----- Likely hard words -----\nif(showHardWord){const wordRegex=/\\b[\\w']+\\b/g;let m;while((m=wordRegex.exec(text))!==null){const raw=m[0];const lower=raw.toLowerCase();// Exemptions\nif(exemptWords.has(lower))continue;// proper nouns, phrases normalized to words list\nif(easyWords.has(lower))continue;// Dale–Chall easy list\n// Heuristic: 3+ syllables\nif(countSyllables(raw)>=3){const from=mapOffsetToPos(doc,m.index);const to=mapOffsetToPos(doc,m.index+raw.length);decos.push(Decoration.inline(from,to,{class:\"hl-hardword\",title:\"This word may be hard for some readers. Consider a simpler alternative.\"}));}}}return DecorationSet.create(doc,decos);}function highlighterPlugin(cfgRef){return new Plugin({key:decoKey,state:{init:(_,_ref)=>{let{doc}=_ref;return buildDecorations(doc,cfgRef.current);},apply(tr,oldSet,_old,state){const needsUpdate=tr.docChanged||tr.getMeta(decoKey)===\"recompute\";return needsUpdate?buildDecorations(state.doc,cfgRef.current):oldSet.map(tr.mapping,tr.doc);}},props:{decorations(state){return this.getState(state);}}});}/* ---------- component ---------- */export default function TiptapEditor(_ref2){let{targetGrade,showHardWord,onReady,onPlainTextChange}=_ref2;const[exemptWords,setExemptWords]=useState(new Set());const[easyWords,setEasyWords]=useState(new Set());const cfgRef=useRef({targetGrade,showHardWord,exemptWords,easyWords});// Load proper-noun exemptions\nuseEffect(()=>{fetch(\"/exemptProperNouns.json\").then(res=>res.json()).then(data=>{const singles=(data.singleWords||[]).map(w=>(w||\"\").toLowerCase());const phrases=(data.phrases||[]).map(p=>(p||\"\").toLowerCase().split(/\\s+/)).flat();// simple normalization so common phrase tokens are skipped\nsetExemptWords(new Set([...singles,...phrases]));}).catch(()=>{});},[]);// Load Dale–Chall easy words\nuseEffect(()=>{fetch(\"/daleChallEasyWords.json\").then(res=>res.json()).then(arr=>setEasyWords(new Set((arr||[]).map(w=>(w||\"\").toLowerCase())))).catch(()=>{});},[]);// Keep config fresh + recompute decorations\nuseEffect(()=>{cfgRef.current={targetGrade,showHardWord,exemptWords,easyWords};},[targetGrade,showHardWord,exemptWords,easyWords]);// Create TipTap editor\nconst editor=useEditor({extensions:[StarterKit,Placeholder.configure({placeholder:\"Paste or type. Sentences that run long or read above your target will highlight here.\"}),highlighterPlugin(cfgRef)],editorProps:{attributes:{class:\"editor\"}},onUpdate(_ref3){let{editor}=_ref3;const plain=editor.state.doc.textBetween(0,editor.state.doc.content.size,\" \",\" \");onPlainTextChange===null||onPlainTextChange===void 0?void 0:onPlainTextChange(plain);// trigger re-evaluation (safeguard)\neditor.view.dispatch(editor.state.tr.setMeta(decoKey,\"recompute\"));}});// Pass editor instance up when ready\nuseEffect(()=>{if(editor)onReady===null||onReady===void 0?void 0:onReady(editor);},[editor,onReady]);return/*#__PURE__*/_jsx(EditorContent,{editor:editor});}","map":{"version":3,"names":["React","useEffect","useRef","useState","EditorContent","useEditor","StarterKit","Placeholder","Plugin","PluginKey","Decoration","DecorationSet","jsx","_jsx","countSyllables","word","w","toLowerCase","replace","length","cleaned","m","match","Math","max","splitSentences","text","trim","split","filter","Boolean","decoKey","mapOffsetToPos","doc","offset","seen","result","descendants","node","posHere","isText","len","isBlock","undefined","buildDecorations","cfg","targetGrade","showHardWord","exemptWords","easyWords","textBetween","content","size","decos","sentences","s","ws","syll","grade","from","to","push","inline","class","title","wordRegex","exec","raw","lower","has","index","create","highlighterPlugin","cfgRef","key","state","init","_","_ref","current","apply","tr","oldSet","_old","needsUpdate","docChanged","getMeta","map","mapping","props","decorations","getState","TiptapEditor","_ref2","onReady","onPlainTextChange","setExemptWords","Set","setEasyWords","fetch","then","res","json","data","singles","singleWords","phrases","p","flat","catch","arr","editor","extensions","configure","placeholder","editorProps","attributes","onUpdate","_ref3","plain","view","dispatch","setMeta"],"sources":["C:/Users/Mitchell/Downloads/Hemming Way App Clone/Hemming Way App Clone/src/TiptapEditor.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport { EditorContent, useEditor } from \"@tiptap/react\";\r\nimport StarterKit from \"@tiptap/starter-kit\";\r\nimport Placeholder from \"@tiptap/extension-placeholder\";\r\nimport { Plugin, PluginKey } from \"prosemirror-state\";\r\nimport { Decoration, DecorationSet } from \"prosemirror-view\";\r\n\r\n/* ---------- syllable + metric helpers ---------- */\r\nfunction countSyllables(word) {\r\n  const w = (word || \"\").toLowerCase().replace(/[^a-z]/g, \"\");\r\n  if (!w) return 0;\r\n  if (w.length <= 3) return 1;\r\n  const cleaned = w.replace(/(?:es|ed|e)$/g, \"\");\r\n  const m = cleaned.match(/[aeiouy]+/g);\r\n  return Math.max(1, m ? m.length : 0);\r\n}\r\nfunction splitSentences(text) {\r\n  return (text || \"\")\r\n    .replace(/\\s+/g, \" \")\r\n    .trim()\r\n    .split(/(?<=[\\.!?])\\s+/)\r\n    .filter(Boolean);\r\n}\r\n\r\n/* ---------- decoration plugin ---------- */\r\nconst decoKey = new PluginKey(\"sentenceHighlighter\");\r\n\r\nfunction mapOffsetToPos(doc, offset) {\r\n  let seen = 0;\r\n  let result = 0;\r\n  doc.descendants((node, posHere) => {\r\n    if (node.isText) {\r\n      const len = node.text.length;\r\n      if (offset <= seen + len) {\r\n        result = posHere + (offset - seen);\r\n        return false;\r\n      }\r\n      seen += len;\r\n    } else if (node.isBlock) {\r\n      // textBetween inserts a newline between blocks; count it\r\n      if (seen < offset) seen += 1;\r\n    }\r\n    return undefined;\r\n  });\r\n  return result;\r\n}\r\n\r\nfunction buildDecorations(doc, cfg) {\r\n  const { targetGrade, showHardWord, exemptWords, easyWords } = cfg;\r\n  const text = doc.textBetween(0, doc.content.size, \"\\n\", \"\\n\");\r\n  const decos = [];\r\n\r\n  // ----- Sentence highlights -----\r\n  let offset = 0;\r\n  const sentences = splitSentences(text);\r\n  for (const s of sentences) {\r\n    const ws = s.trim().split(/\\s+/).filter(Boolean);\r\n    if (!ws.length) {\r\n      offset += s.length + 1;\r\n      continue;\r\n    }\r\n    let syll = 0;\r\n    for (const w of ws) syll += countSyllables(w);\r\n    const grade = 0.39 * (ws.length / 1) + 11.8 * (syll / ws.length) - 15.59;\r\n\r\n    // Yellow rule (≥20 words OR ≥ target+1)\r\n    if (ws.length >= 20 || grade >= targetGrade + 1) {\r\n      const from = mapOffsetToPos(doc, offset);\r\n      const to = mapOffsetToPos(doc, offset + s.length);\r\n\r\n      // Red rule (≥25 words OR ≥ target+3)\r\n      if (ws.length >= 25 || grade >= targetGrade + 3) {\r\n        decos.push(\r\n          Decoration.inline(from, to, {\r\n            class: \"hl-very\",\r\n            title:\r\n              \"This sentence is likely too long or complex. Shortening it will make it easier to read.\"\r\n          })\r\n        );\r\n      } else {\r\n        decos.push(\r\n          Decoration.inline(from, to, {\r\n            class: \"hl-slight\",\r\n            title:\r\n              \"This sentence may be a bit hard to follow. Try shortening it or using simpler words.\"\r\n          })\r\n        );\r\n      }\r\n    }\r\n\r\n    offset += s.length + 1;\r\n  }\r\n\r\n  // ----- Likely hard words -----\r\n  if (showHardWord) {\r\n    const wordRegex = /\\b[\\w']+\\b/g;\r\n    let m;\r\n    while ((m = wordRegex.exec(text)) !== null) {\r\n      const raw = m[0];\r\n      const lower = raw.toLowerCase();\r\n\r\n      // Exemptions\r\n      if (exemptWords.has(lower)) continue; // proper nouns, phrases normalized to words list\r\n      if (easyWords.has(lower)) continue;   // Dale–Chall easy list\r\n\r\n      // Heuristic: 3+ syllables\r\n      if (countSyllables(raw) >= 3) {\r\n        const from = mapOffsetToPos(doc, m.index);\r\n        const to = mapOffsetToPos(doc, m.index + raw.length);\r\n        decos.push(\r\n          Decoration.inline(from, to, {\r\n            class: \"hl-hardword\",\r\n            title: \"This word may be hard for some readers. Consider a simpler alternative.\"\r\n          })\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  return DecorationSet.create(doc, decos);\r\n}\r\n\r\nfunction highlighterPlugin(cfgRef) {\r\n  return new Plugin({\r\n    key: decoKey,\r\n    state: {\r\n      init: (_, { doc }) => buildDecorations(doc, cfgRef.current),\r\n      apply(tr, oldSet, _old, state) {\r\n        const needsUpdate = tr.docChanged || tr.getMeta(decoKey) === \"recompute\";\r\n        return needsUpdate\r\n          ? buildDecorations(state.doc, cfgRef.current)\r\n          : oldSet.map(tr.mapping, tr.doc);\r\n      }\r\n    },\r\n    props: {\r\n      decorations(state) {\r\n        return this.getState(state);\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\n/* ---------- component ---------- */\r\nexport default function TiptapEditor({\r\n  targetGrade,\r\n  showHardWord,\r\n  onReady,\r\n  onPlainTextChange\r\n}) {\r\n  const [exemptWords, setExemptWords] = useState(new Set());\r\n  const [easyWords, setEasyWords] = useState(new Set());\r\n\r\n  const cfgRef = useRef({ targetGrade, showHardWord, exemptWords, easyWords });\r\n\r\n  // Load proper-noun exemptions\r\n  useEffect(() => {\r\n    fetch(\"/exemptProperNouns.json\")\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        const singles = (data.singleWords || []).map(w => (w || \"\").toLowerCase());\r\n        const phrases = (data.phrases || [])\r\n          .map(p => (p || \"\").toLowerCase().split(/\\s+/))\r\n          .flat(); // simple normalization so common phrase tokens are skipped\r\n        setExemptWords(new Set([...singles, ...phrases]));\r\n      })\r\n      .catch(() => {});\r\n  }, []);\r\n\r\n  // Load Dale–Chall easy words\r\n  useEffect(() => {\r\n    fetch(\"/daleChallEasyWords.json\")\r\n      .then(res => res.json())\r\n      .then(arr => setEasyWords(new Set((arr || []).map(w => (w || \"\").toLowerCase()))))\r\n      .catch(() => {});\r\n  }, []);\r\n\r\n  // Keep config fresh + recompute decorations\r\n  useEffect(() => {\r\n    cfgRef.current = { targetGrade, showHardWord, exemptWords, easyWords };\r\n  }, [targetGrade, showHardWord, exemptWords, easyWords]);\r\n\r\n  // Create TipTap editor\r\n  const editor = useEditor({\r\n    extensions: [\r\n      StarterKit,\r\n      Placeholder.configure({\r\n        placeholder:\r\n          \"Paste or type. Sentences that run long or read above your target will highlight here.\"\r\n      }),\r\n      highlighterPlugin(cfgRef)\r\n    ],\r\n    editorProps: {\r\n      attributes: { class: \"editor\" }\r\n    },\r\n    onUpdate({ editor }) {\r\n      const plain = editor.state.doc.textBetween(\r\n        0,\r\n        editor.state.doc.content.size,\r\n        \" \",\r\n        \" \"\r\n      );\r\n      onPlainTextChange?.(plain);\r\n      // trigger re-evaluation (safeguard)\r\n      editor.view.dispatch(editor.state.tr.setMeta(decoKey, \"recompute\"));\r\n    }\r\n  });\r\n\r\n  // Pass editor instance up when ready\r\n  useEffect(() => {\r\n    if (editor) onReady?.(editor);\r\n  }, [editor, onReady]);\r\n\r\n  return <EditorContent editor={editor} />;\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}