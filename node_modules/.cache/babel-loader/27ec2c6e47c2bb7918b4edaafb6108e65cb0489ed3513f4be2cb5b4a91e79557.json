{"ast":null,"code":"// ================================\n// Sentence Scratcher - Highlighting\n// ================================\n/**\r\n * Insert highlight spans into HTML string.\r\n * veryHardRanges / slightRanges / hardWordRanges are arrays of [start, end)\r\n */export function applyHighlights(html,_ref){let{veryHardRanges=[],slightRanges=[],hardWordRanges=[]}=_ref;// Build a single list of ranges with class names\nconst ranges=[];for(const r of veryHardRanges)ranges.push({s:r[0],e:r[1],cls:'hl-very'});for(const r of slightRanges)ranges.push({s:r[0],e:r[1],cls:'hl-slight'});for(const r of hardWordRanges)ranges.push({s:r[0],e:r[1],cls:'hl-hardword'});if(!ranges.length)return html;// Sort by start desc, so we can splice safely\nranges.sort((a,b)=>b.s-a.s);// Work on textContent positions; assume html is plain text or already safe\nlet out=html;for(const{s,e,cls}of ranges){if(e<=s)continue;// Slice in a span\nconst before=out.slice(0,s);const middle=out.slice(s,e);const after=out.slice(e);out=`${before}<span class=\"${cls}\">${middle}</span>${after}`;}return out;}/** Attach to editor */export function refreshEditorHighlights(getAnalysis){const editor=document.querySelector('.editor');if(!editor)return;const analysis=getAnalysis();// { html, veryHardRanges, slightRanges, hardWordRanges }\neditor.innerHTML=applyHighlights(analysis.html,analysis);}","map":{"version":3,"names":["applyHighlights","html","_ref","veryHardRanges","slightRanges","hardWordRanges","ranges","r","push","s","e","cls","length","sort","a","b","out","before","slice","middle","after","refreshEditorHighlights","getAnalysis","editor","document","querySelector","analysis","innerHTML"],"sources":["C:/Users/Mitchell/Downloads/Hemming Way App Clone/Hemming Way App Clone/src/js/highlighting.js"],"sourcesContent":["// ================================\r\n// Sentence Scratcher - Highlighting\r\n// ================================\r\n\r\n/**\r\n * Insert highlight spans into HTML string.\r\n * veryHardRanges / slightRanges / hardWordRanges are arrays of [start, end)\r\n */\r\nexport function applyHighlights(html, { veryHardRanges = [], slightRanges = [], hardWordRanges = [] }) {\r\n  // Build a single list of ranges with class names\r\n  const ranges = [];\r\n  for (const r of veryHardRanges) ranges.push({ s: r[0], e: r[1], cls: 'hl-very' });\r\n  for (const r of slightRanges)   ranges.push({ s: r[0], e: r[1], cls: 'hl-slight' });\r\n  for (const r of hardWordRanges) ranges.push({ s: r[0], e: r[1], cls: 'hl-hardword' });\r\n\r\n  if (!ranges.length) return html;\r\n\r\n  // Sort by start desc, so we can splice safely\r\n  ranges.sort((a, b) => b.s - a.s);\r\n\r\n  // Work on textContent positions; assume html is plain text or already safe\r\n  let out = html;\r\n  for (const { s, e, cls } of ranges) {\r\n    if (e <= s) continue;\r\n    // Slice in a span\r\n    const before = out.slice(0, s);\r\n    const middle = out.slice(s, e);\r\n    const after = out.slice(e);\r\n    out = `${before}<span class=\"${cls}\">${middle}</span>${after}`;\r\n  }\r\n  return out;\r\n}\r\n\r\n/** Attach to editor */\r\nexport function refreshEditorHighlights(getAnalysis) {\r\n  const editor = document.querySelector('.editor');\r\n  if (!editor) return;\r\n\r\n  const analysis = getAnalysis(); // { html, veryHardRanges, slightRanges, hardWordRanges }\r\n  editor.innerHTML = applyHighlights(analysis.html, analysis);\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AAEA;AACA;AACA;AACA,GACA,MAAO,SAAS,CAAAA,eAAeA,CAACC,IAAI,CAAAC,IAAA,CAAmE,IAAjE,CAAEC,cAAc,CAAG,EAAE,CAAEC,YAAY,CAAG,EAAE,CAAEC,cAAc,CAAG,EAAG,CAAC,CAAAH,IAAA,CACnG;AACA,KAAM,CAAAI,MAAM,CAAG,EAAE,CACjB,IAAK,KAAM,CAAAC,CAAC,GAAI,CAAAJ,cAAc,CAAEG,MAAM,CAACE,IAAI,CAAC,CAAEC,CAAC,CAAEF,CAAC,CAAC,CAAC,CAAC,CAAEG,CAAC,CAAEH,CAAC,CAAC,CAAC,CAAC,CAAEI,GAAG,CAAE,SAAU,CAAC,CAAC,CACjF,IAAK,KAAM,CAAAJ,CAAC,GAAI,CAAAH,YAAY,CAAIE,MAAM,CAACE,IAAI,CAAC,CAAEC,CAAC,CAAEF,CAAC,CAAC,CAAC,CAAC,CAAEG,CAAC,CAAEH,CAAC,CAAC,CAAC,CAAC,CAAEI,GAAG,CAAE,WAAY,CAAC,CAAC,CACnF,IAAK,KAAM,CAAAJ,CAAC,GAAI,CAAAF,cAAc,CAAEC,MAAM,CAACE,IAAI,CAAC,CAAEC,CAAC,CAAEF,CAAC,CAAC,CAAC,CAAC,CAAEG,CAAC,CAAEH,CAAC,CAAC,CAAC,CAAC,CAAEI,GAAG,CAAE,aAAc,CAAC,CAAC,CAErF,GAAI,CAACL,MAAM,CAACM,MAAM,CAAE,MAAO,CAAAX,IAAI,CAE/B;AACAK,MAAM,CAACO,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAKA,CAAC,CAACN,CAAC,CAAGK,CAAC,CAACL,CAAC,CAAC,CAEhC;AACA,GAAI,CAAAO,GAAG,CAAGf,IAAI,CACd,IAAK,KAAM,CAAEQ,CAAC,CAAEC,CAAC,CAAEC,GAAI,CAAC,EAAI,CAAAL,MAAM,CAAE,CAClC,GAAII,CAAC,EAAID,CAAC,CAAE,SACZ;AACA,KAAM,CAAAQ,MAAM,CAAGD,GAAG,CAACE,KAAK,CAAC,CAAC,CAAET,CAAC,CAAC,CAC9B,KAAM,CAAAU,MAAM,CAAGH,GAAG,CAACE,KAAK,CAACT,CAAC,CAAEC,CAAC,CAAC,CAC9B,KAAM,CAAAU,KAAK,CAAGJ,GAAG,CAACE,KAAK,CAACR,CAAC,CAAC,CAC1BM,GAAG,CAAG,GAAGC,MAAM,gBAAgBN,GAAG,KAAKQ,MAAM,UAAUC,KAAK,EAAE,CAChE,CACA,MAAO,CAAAJ,GAAG,CACZ,CAEA,uBACA,MAAO,SAAS,CAAAK,uBAAuBA,CAACC,WAAW,CAAE,CACnD,KAAM,CAAAC,MAAM,CAAGC,QAAQ,CAACC,aAAa,CAAC,SAAS,CAAC,CAChD,GAAI,CAACF,MAAM,CAAE,OAEb,KAAM,CAAAG,QAAQ,CAAGJ,WAAW,CAAC,CAAC,CAAE;AAChCC,MAAM,CAACI,SAAS,CAAG3B,eAAe,CAAC0B,QAAQ,CAACzB,IAAI,CAAEyB,QAAQ,CAAC,CAC7D","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}